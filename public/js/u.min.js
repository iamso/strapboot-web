/*!
 * u.js - Version 0.33.2
 * micro framework, utility library
 * Author: Steve Ottoz <so@dev.so>
 * Build date: 2016-09-12
 * Copyright (c) 2016 Steve Ottoz
 * Released under the MIT license
 */
!function(a,b){"use strict";/^f/.test(typeof define)&&define.amd?define("ujs",[],b):/^o/.test(typeof exports)?module.exports=b():a.u=a.ujs=a.Âµ=b()}(/^u/.test(typeof window)?this:window,function(a){"use strict";function b(b){c.push.apply(this,b&&(b.nodeType||/^o/.test(typeof b))&&!u.isArray(b)&&null!==b?[b]:u.isArray(b)?b:""+b===b?u.isHtml(b)?u.toHtml(b):document.querySelectorAll(b):a)}var c=[],d="prototype",u=function(a){return/^f/.test(typeof a)?/c/.test(document.readyState)?a():u._defInit.push(a):new b(a)};u.each=function(a,b){for(var c in a)a.hasOwnProperty(c)&&b.call(a[c],c,a[c]);return a},u.extend=function(a){var b,c,d=arguments;if(d[1]||(d[1]=a,a=u),/^f/.test(typeof Object.assign))Object.assign.apply(Object,d);else for(b in d)if(b>0)for(c in d[b])d[b].hasOwnProperty(c)&&(a[c]=d[b][c]);return a},u.trim=function(a){return a.replace(/^\s+|\s+$/g,"")},u.debounce=function(a,b,c){var d=null;return b=b||250,function(){var e=c||this,f=arguments;clearTimeout(d),d=setTimeout(function(){a.apply(e,f)},b)}},u.throttle=function(a,b,c){var d,e;return b=b||250,function(){var f=c||this,g=+new Date,h=arguments;d&&d+b>g?(clearTimeout(e),e=setTimeout(function(){d=g,a.apply(f,h)},b)):(d=g,a.apply(f,h))}},u.type=function(a){return Object.prototype.toString.call(a).replace(/^\[object (.+)\]$/,"$1").toLowerCase()},u.each("push pop shift unshift filter map splice".split(" "),function(a,b){u[b]=function(a,c){return a[b](c)}}),u.inArray=function(a,b){return b.indexOf(a)},u.isArray=function(a){return Array.isArray(a)},u.toArray=u.makeArray=function(a){return c.slice.call(a)},u.toDash=function(a){return a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},u.toCamel=function(a){return a.toLowerCase().replace(/\b-([a-z])/g,function(a,b){return b.toUpperCase()})},u.isHtml=function(a){return/<[a-z][\s\S]*>/i.test(a)},u.toHtml=function(a,b){return b=document.createElement("div"),b.innerHTML=a,a?b.childNodes:[]},u.bytes=function(a){return~-encodeURI(a).split(/%..|./).length},u.uuid=function h(a){return a?(a^16*Math.random()>>a/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,h)},u.rid=function(a,b){return b=b||16,Array(a||32).join(0).replace(/./g,function(){return(0|Math.random()*b).toString(b)})},u.prfx=function i(a,b,c,d){for(d?d=b.toUpperCase():b=4;!d&&b--;d=(d=d.replace(/-(.)/g,i))in(new Image).style&&d)d=[["Moz-","Webkit-","Ms-","O-"][b]]+a;return d||a},u.stop=function(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,a},u.param=function(a,b,c){if(!/^o/.test(typeof a))return a;if(b)return JSON.stringify(a);var d=[];for(var e in a){var f=c?c+"["+e+"]":e,g=a[e];a.hasOwnProperty(e)&&d.push("object"==typeof g?u.param(g,b,f):encodeURIComponent(f)+"="+encodeURIComponent(g))}return d.join("&")},u.parse=function(a){try{return JSON.parse(a)}catch(b){return a}},u.tpl=function(a,b){return a.replace(/{{*([^}]+)*}}/g,function(a,c){return a=b,c.replace(/[^.]+/g,function(b){a=a[b]||""}),a})},u.ajax={opts:{async:!0,json:!0,auth:null,success:function(){},error:function(){},up:function(){},down:function(){}},cts:{form:"application/x-www-form-urlencoded",json:"application/json"},_send:function(a,b){var c=this.cts,d=new XMLHttpRequest,e=u.param(a.data,a.json);return d.onreadystatechange=function(){4===d.readyState&&(d.status>=200&&d.status<400?a.success(u.parse(d.response||d.responseText),d.statusText):a.error(u.parse(d.response||d.responseText),d.statusText))},d.upload&&(d.upload.onprogress=function(b){b.lengthComputable&&a.up(b.total,b.loaded)}),d.onprogress=function(b){b.lengthComputable&&a.down(b.total,b.loaded)},d.open(b,a.url,a.async),d.setRequestHeader("Content-type",a.json?c.json:c.form),d.setRequestHeader("Accept",c.json),a.headers&&u.each(a.headers,function(a,b){d.setRequestHeader(a,b)}),a.auth&&d.setRequestHeader("Authorization",a.auth),d.send(e||null),d},defaults:function(a){this.opts=u.extend({},this.opts,a)}},u.get=function(a){return a=u.extend({},u.ajax.opts,a),a.json=!1,a.url+=(a.url.match(/\?/gi)?"&":"?")+(u.param(a.data)||""),u.ajax._send(a,"GET")};var e=["post","put","patch","delete","head","options"];u.each(e,function(a,b){u[b]=function(a){return a=u.extend({},u.ajax.opts,a),u.ajax._send(a,b.toUpperCase())}}),u.getScript=function(a,b){var c=document.createElement("script");c.onload=b||function(){},c.src=a,document.head.appendChild(c).parentNode.removeChild(c)},u.defer=function(a,b){return a=[],{resolve:function(){for(b=arguments;a.length;)a.shift().apply({},b);return a=0,this},then:function(c){return a?a.push(c):c.apply({},b),this}}},u.version="0.33.2",u._defInit=[],u._id=u.uuid(),u._data=[],u._events=[],u._events._index=function(b,c){return(c=b[u._id])===a&&(b[u._id]=c=u._data.push({})-1),this[c]||(this[c]=[]),c},u._events.add=function(a,b,c,d,e){return e=this._index(a),this._find(e,b,c).length?!1:(this[e].push({e:b,fn:c,handler:d}),!0)},u._events._find=function(a,b,c){return this[a].filter(function(a){return a.e===b&&a.fn===c})},u._events.remove=function(a,b,c,d,e){return e=this._index(a),d=this._find(e,b,c),this[e]=this[e].filter(function(a){return a.e!==b&&a.fn!==c}),d},u.fn=u[d]=b[d]={length:0,ujs:"0.33.2",each:function(a){return u.each(u.toArray(this),a),this},on:function(a,b,c,d){return/^f/.test(typeof b)?(c=b,d=c):/^s/.test(typeof b)&&(d=c,c=function(a){var c;u(a.target).is(b)?c=a.target:u(a.target).parents(b).length&&(c=u(a.target).parents(b)[0]),c&&d.apply(c,[a])}),this.each(function(b,e){var f=a.split(" ");u.each(f,function(a,b){u._events.add(e,b,d,c)&&e.addEventListener(b,c)})})},one:function(a,b,c,d){return/^f/.test(typeof b)?(c=b,d=c):/^s/.test(typeof b)&&(d=c,c=function(a){var c;u(a.target).is(b)?c=a.target:u(a.target).parents(b).length&&(c=u(a.target).parents(b)[0]),c&&d.apply(c,[a])}),this.each(function(b,e){var f=a.split(" ");u.each(f,function(a,b){u._events.add(e,b,d,c),e.addEventListener(b,function f(a){e.removeEventListener(b,f),u._events.remove(e,b,d),c.call(this,a)})})})},off:function(a,b,c,d){return/^f/.test(typeof b)&&(c=b),d=c,this.each(function(b,e){var f=a.split(" ");u.each(f,function(a,b,f){f=u._events.remove(e,b,d),c=f.length?f[0].handler:c,e.removeEventListener(b,c)})})},trigger:function(a,b,c){return/^f/.test(typeof CustomEvent)?c=new CustomEvent(a,{detail:b,bubbles:!0,cancelable:!1}):(c=document.createEvent("CustomEvent"),c.initCustomEvent(a,!0,!1,b)),this.each(function(b,d){d.dispatchEvent?d.dispatchEvent(c):d.fireEvent("on"+a,c)})},hasClass:function(a){return this.length?this[0].classList.contains(a):!1},position:function(){return this.length?{left:this[0].offsetLeft,top:this[0].offsetTop}:{left:0,top:0}},offset:function(){if(!this.length)return{top:0,left:0};var a=this[0].getBoundingClientRect();return{top:a.top+document.body.scrollTop,left:a.left+document.body.scrollLeft}},scrollTop:function(b){return b===a?this.length?this[0].scrollTop!==a?this[0].scrollTop:this[0].scrollY||this[0].pageYOffset:0:this.each(function(c,d){d.scrollTop===a||d.scrollTo!==a?d.scrollTo(0,b):d.scrollTop=b})},scrollTo:function(a,b,c){return this.each(function(d,e){function f(a,b,c,d){return a/=d/2,1>a?c/2*Math.pow(2,10*(a-1))+b:(a--,c/2*(-Math.pow(2,-10*a)+2)+b)}function g(){k+=l;var a=f(k,i,j,b);h.scrollTop(a),b>k?requestAnimationFrame(g):c&&c.apply(window)}var h=u(e),i=h.scrollTop(),j=a-i,k=0,l=20;b=b||1500,g()})},scrollToTop:function(a,b){return this.each(function(c,d){u(d).scrollTo(0,a,b)})},width:function(b){return b===a?this.length?this[0].clientWidth||this[0].innerWidth:0:this.each(function(a,c){c.style.width=b+"px"})},outerWidth:function(a){return this.length?a?this[0].offsetWidth+parseInt(getComputedStyle(this[0]).marginLeft)+parseInt(getComputedStyle(this[0]).marginRight):this[0].offsetWidth:0},height:function(b){return b===a?this.length?this[0].clientHeight||this[0].innerHeight:0:this.each(function(a,c){c.style.height=b+"px"})},outerHeight:function(a){return this.length?a?this[0].offsetHeight+parseInt(getComputedStyle(this[0]).marginTop)+parseInt(getComputedStyle(this[0]).marginBottom):this[0].offsetHeight:0},hide:function(){return this.each(function(a,b){b.style.display="none"})},show:function(){return this.each(function(a,b){b.style.display=""})},attr:function(b,c){return c===a?this.length?this[0].getAttribute(b):null:this.each(function(a,d){d.setAttribute(b,c)})},removeAttr:function(a){return this.each(function(b,c){c.removeAttribute(a)})},hasAttr:function(a){return this.length?this[0].hasAttribute(a):!1},prop:function(b,c){return c===a?this.length?this[0][b]:null:this.each(function(a,d){d[b]=c})},data:function(b,c,d,e,f,g){return b===a?this.length?(d=this[0],f=u.extend({},d.dataset||{}),(e=d[u._id])===a?(d[u._id]=e=u._data.push(f)-1,f):u._data[e]=u.extend({},f,u._data[e])):{}:(g=u.toCamel(u.toDash(b)),c===a?this.length?(d=this[0],(e=d[u._id])===a?(f={},f[g]=d.dataset?d.dataset[g]:d.getAttribute("data-"+b),d[u._id]=e=u._data.push(f)-1,f[g]):u._data[e][g]?u._data[e][g]:u._data[e][g]=d.dataset?d.dataset[g]:d.getAttribute("data-"+b)):null:this.each(function(b,d){(b=d[u._id])===a?(f={},f[g]=c,d[u._id]=b=u._data.push(f)-1):u._data[b][g]=c}))},removeData:function(b,c,d){return this.each(function(e,f){b!==a&&(d=u.toCamel(u.toDash(b)),(c=f[u._id])!==a&&(f.dataset?delete f.dataset[d]:f.removeAttribute("data-"+b),delete u._data[c][d]))})},css:function(b,c){if(/^o/.test(typeof b)){for(var d in b){var e=u.prfx(d);b.hasOwnProperty(d)&&this.each(function(a,c){c.style[e]=b[d]})}return this}return c===a?this.length?this[0].style[b]:null:this.each(function(a,d){var e=u.prfx(b);d.style[e]=c})},append:function(a){return this.each(function(b,c){a.each(function(a,b){c.appendChild(b)})})},prepend:function(a){return this.each(function(b,c,d){d=c.firstChild,a.each(function(a,b){c.insertBefore(b,d)})})},before:function(a){return this.each(function(b,c){a.each(function(a,b){c.insertAdjacentHTML("beforebegin",b.outerHTML)})})},after:function(a){return this.each(function(b,c){a.each(function(a,b){c.insertAdjacentHTML("afterend",b.outerHTML)})})},first:function(){return this.length?u(this[0]):this},last:function(){return this.length?u(this[this.length-1]):this},eq:function(a){return u(this[a])},get:function(a){return this[a]},clone:function(){return this.length?u(this[0].cloneNode(!0)):this},contains:function(a){return this.length?/^o/.test(typeof a)?this[0]!==a[0]&&this[0].contains(a[0]):null!==this[0].querySelector(a):!1},find:function(a){return this.length?u(u.toArray(this[0].querySelectorAll(a))):this},filter:function(a){return u(c.filter.call(this,function(b,c){return/^f/.test(typeof a)?a(c,b):u(b).is(a)}))},is:function(a){if(!this.length)return!1;var b=this[0].matches||this[0].matchesSelector||this[0].msMatchesSelector||this[0].mozMatchesSelector||this[0].webkitMatchesSelector||this[0].oMatchesSelector;if(b)return b.call(this[0],a);if(this[0].parentNode)for(var c=this[0].parentNode.querySelectorAll(a),d=c.length;d--;)if(c[d]===this[0])return!0;return!1},children:function(){return this.length?u(u.toArray(this[0].children)):this},index:function(a){return a?""+a===a?u.toArray(u(a)).indexOf(this[0]):(a=a.ujs?a[0]:a,u.toArray(this).indexOf(a)):this[0]?this.first().prevAll().length:-1},prev:function(a){return this.length?u(u.toArray(this.prevAll(a)).shift()):this},prevAll:function(a){if(!this.length)return this;for(var b=[],c=this[0];c=c.previousElementSibling;)a?u(c).is(a)&&b.push(c):b.push(c);return u(b)},next:function(a){return this.length?u(u.toArray(this.nextAll(a)).shift()):this},nextAll:function(a){if(!this.length)return this;for(var b=[],c=this[0];c=c.nextElementSibling;)a?u(c).is(a)&&b.push(c):b.push(c);return u(b)},siblings:function(a){if(!this.length)return this;var b=this[0];return u(c.filter.call(b.parentNode.children,function(c){return a?c!==b&&u(c).is(a):c!==b}))},parent:function(){return this.length?u(this[0].parentNode):this},parents:function(b){if(!this.length)return this;for(var c=[],d=!1,e=this[0];!d;)e=e.parentNode,e?b===a?c.push(e):u(e).is(b)&&c.push(e):d=!0;return u(c)},text:function(b){return b===a?this.length?this[0].textContent:null:this.each(function(a,c){c.textContent=b})},html:function(b){return b===a?this.length?this[0].innerHTML:null:this.each(function(a,c){c.innerHTML=b})},outerHTML:function(b){return b===a?this.length?this[0].outerHTML:null:this.each(function(a,c){c.outerHTML=b})},val:function(b){return b===a?this.length?this[0].value:null:this.each(function(a,c){c.value=b})},empty:function(){return this.each(function(a,b){b.innerHTML=""})},remove:function(){return this.each(function(a,b){b.parentNode.removeChild(b)})},bytes:function(){return this.length?u.bytes(this[0].value||this[0].textContent):0},toArray:function(){return u.toArray(this)},focus:function(){return this.length&&this[0].focus(),this},blur:function(){return this.each(function(a,b){b.blur()})},extend:function(){var a=u.toArray(arguments);return a.unshift(u.fn),u.extend.apply(this,a)},splice:c.splice};var f=["addClass","removeClass","toggleClass"],g=["add","remove","toggle"];return u.each(f,function(b,c){u[d][c]=function(c,d){return this.each(function(e,f){var h=c.split(" ");u.each(h,function(c,e,h){h=d!==a?[e,!!d]:[e],f.classList[g[b]].apply(f.classList,h)})})}}),/^u/.test(typeof document)||u(document).on("DOMContentLoaded",function(a){for(var b in u._defInit)u._defInit.hasOwnProperty(b)&&u._defInit[b](a);u._defInit=[]}),u});
//# sourceMappingURL=u.min.js.map